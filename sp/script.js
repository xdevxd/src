function showLinkModal(link) { window.location.href = link; } function Report(file_id) { var data = document.getElementById("data").value; var reportMsg = document.getElementById("reportMsg").value; var reportData = { report: data, reportMsg: reportMsg, file_id: file_id }; if (checkReportSubmitted(file_id)) { alert("Report already submitted"); return; } fetch(window.location.origin + "/api/report", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(reportData) }).then(response => { if (response.ok) { alert("Report submitted successfully"); document.cookie = `reportData=${JSON.stringify(reportData)}`; } else { alert("Failed to submit report"); } }).catch(error => { console.error("Error:", error); alert("Failed to submit report"); }); } function checkReportSubmitted(file_id) { var cookieData = document.cookie.split(";").map(cookie => cookie.trim()).find(cookie => cookie.startsWith("reportData=")); if (cookieData) { var reportData = JSON.parse(cookieData.split("=")[1]); if (reportData.file_id === file_id) { return true; } } return false; } function openReport() { document.getElementById("myForm").style.display = "block"; } function closeReport() { document.getElementById("myForm").style.display = "none"; } document.addEventListener('contextmenu', function (e) { e.preventDefault(); }); document.addEventListener('keydown', function (e) { if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I') || (e.ctrlKey && e.key === 'u') || e.ctrlKey || e.shiftKey || e.altKey) { e.preventDefault(); } }); function shareButton() { if (navigator.share) { const currentURL = window.location.href; const currentTitle = document.title; navigator.share({ title: currentTitle, text: "You can watch high-quality videos on this Steam page, one of the most powerful streaming platforms.\n\n" + currentTitle + "\n", url: currentURL }).then(() => { console.log('Thanks for sharing!'); }).catch(err => { console.log(`Couldn't share because of ${err.message}`); }); } else { alert('Sorry, sharing isn\'t working in this browser. You can either share manually or try using Google Chrome for a smoother sharing experience.'); } }